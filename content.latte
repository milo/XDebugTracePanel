<style>
	#nette-debug .xdbgpanel b {
		font-weight: bold;
	}

	#nette-debug .xdbgpanel .nette-inner {
		max-width: 100%;
		max-height: 700px;
	}

	#nette-debug .xdbgpanel .nette-inner td.right {
		text-align: right;
	}

	#nette-debug .xdbgpanel .nette-inner td {
		white-space: nowrap;
	}

	#nette-debug .xdbgpanel .nette-inner .timeFast {
		color: green;
	}

	#nette-debug .xdbgpanel .nette-inner .timeMedian {
		color: orange;
	}

	#nette-debug .xdbgpanel .nette-inner .timeSlow {
		color: red;
	}

	#nette-debug .xdbgpanel .nette-inner {
		overflow: scroll !important;
	}
</style>

<div class="xdbgpanel nette-panel">
	<h1>XDebugTrace</h1>

	<div class="nette-inner" n:inner-foreach="$traces AS $traceNo => $trace">
		<table style="width: 100%">
			{assign $indent = $indents[$traceNo]}
			<thead>
				<tr n:ifset="$titles[$traceNo]">
					<th colspan="6"><h2>{$titles[$traceNo]}</h2></th>
				</tr>
				<tr>
					<th>ID</th>
					<th>Level</th>
					<th>Function</th>
					<th>&Delta;&nbsp;Time</th>
					<th>&Delta;&nbsp;Memory</th>
					<th>File&nbsp;(Line)</th>
				</tr>
			</thead>
			<tbody>
				<tr n:foreach="$trace AS $record">
					<td class="right">{$record->id}</td>
					<td class="right">{$record->level}</td>
					<td style="padding-left:{=($indent[$record->level] * 8) + 5}px">{$record->function}</td>
					<td class="right {$record->deltaTime|timeClass}">{$record->deltaTime|time}</td>
					<td class="right">{$record->deltaMemory|bytes}</td>
					<td><a href="editor://open/?file={$record->filename}&amp;line={$record->line}" title="{$record->filename}">{$record->filename|basename}&nbsp;(<b>{$record->line}</b>)</a> {$record->evalInfo}</td>
				</tr>
			</tbody>
		</table>
		<br n:if="!$iterator->isLast()">
	</div>
	<p>
		Trace file size <b>{$traceFileSize|bytes:2}</b> parsed in <b>{$parsingTime|time:3}</b>
	</p>
</div>